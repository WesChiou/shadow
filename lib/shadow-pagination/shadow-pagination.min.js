"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(i){var n=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(i);return _possibleConstructorReturn(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var i="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(e,t)})(t)}function _construct(t,e,i){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);n=new(Function.bind.apply(t,n));return i&&_setPrototypeOf(n,i.prototype),n}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classPrivateFieldInitSpec(t,e,i){_checkPrivateRedeclaration(t,e),e.set(t,i)}function _checkPrivateRedeclaration(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,e,i){return _classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,e,"set"),i),i}function _classApplyDescriptorSet(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}function _classPrivateFieldGet(t,e){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,e,"get"))}function _classExtractFieldDescriptor(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function _classApplyDescriptorGet(t,e){return e.get?e.get.call(t):e.value}!function(){function b(t){return!Number.isNaN(t-parseFloat(t))}var a=["hidden","disabled"],y=["hidden","ellipsis","no-ellipsis"];y.default="ellipsis";var n=new WeakMap,r=new WeakMap,t=function(){_inherits(e,_wrapNativeSuper(HTMLElement));var t=_createSuper(e);function e(){var i;return _classCallCheck(this,e),_classPrivateFieldInitSpec(_assertThisInitialized(i=t.call(this)),n,{writable:!0,value:1}),_classPrivateFieldInitSpec(_assertThisInitialized(i),r,{writable:!0,value:null}),i.attachShadow({mode:"open"}).addEventListener("click",function(t){t=t.composedPath().find(function(t){return"SLOT"===t.tagName})?t.composedPath().find(function(t){return"BUTTON"===t.tagName&&"shadow-pagination"===t.dataset.of}):t.target.closest("button");if(t&&!t.disabled){var e=t.dataset.page;switch(e){case"first":i.value=1,i.dispatchEvent(new Event("firstpage"));break;case"previous":--i.value,i.dispatchEvent(new Event("previouspage"));break;case"next":i.value+=1,i.dispatchEvent(new Event("nextpage"));break;case"last":i.value=i.count,i.dispatchEvent(new Event("lastpage"));break;default:i.value=+e}}}),i}return _createClass(e,[{key:"count",get:function(){var t=this.getAttribute("count");return b(t)?t:0},set:function(t){b(t)&&0<=t&&this.setAttribute("count",t)}},{key:"value",get:function(){return _classPrivateFieldGet(this,n)},set:function(t){if(b(t)&&b(this.count)&&+_classPrivateFieldGet(this,n)!=+t){if(0<t&&t<=this.count)_classPrivateFieldSet(this,n,+t);else if(t<=0&&this.circular)_classPrivateFieldSet(this,n,this.count);else{if(!(t>this.count&&this.circular))return;_classPrivateFieldSet(this,n,1)}this.dispatchEvent(new Event("change")),this.render()}}},{key:"circular",get:function(){return this.hasAttribute("circular")},set:function(t){t?this.setAttribute("circular",""):this.removeAttribute("circular")}},{key:"showFirstButton",get:function(){return this.hasAttribute("show-first-button")},set:function(t){t?this.setAttribute("show-first-button",""):this.removeAttribute("show-first-button"),this.render()}},{key:"showLastButton",get:function(){return this.hasAttribute("show-last-button")},set:function(t){t?this.setAttribute("show-last-button",""):this.removeAttribute("show-last-button"),this.render()}},{key:"hidePreviousButton",get:function(){return this.hasAttribute("hide-previous-button")},set:function(t){t?this.setAttribute("hide-previous-button",""):this.removeAttribute("hide-previous-button"),this.render()}},{key:"hideNextButton",get:function(){return this.hasAttribute("hide-next-button")},set:function(t){t?this.setAttribute("hide-next-button",""):this.removeAttribute("hide-next-button"),this.render()}},{key:"nextSmartMode",get:function(){return this.getAttribute("next-smart-mode")},set:function(t){this.setAttribute("next-smart-mode",t)}},{key:"previousSmartMode",get:function(){return this.getAttribute("previous-smart-mode")},set:function(t){this.setAttribute("previous-smart-mode",t)}},{key:"ellipsisStyle",get:function(){return this.getAttribute("ellipsis-style")},set:function(t){this.setAttribute("ellipsis-style",t)}},{key:"ellipsisDiameter",get:function(){return this.getAttribute("ellipsis-diameter")},set:function(t){this.setAttribute("ellipsis-diameter",t)}},{key:"ellipsisHeadsize",get:function(){return this.getAttribute("ellipsis-headsize")},set:function(t){this.setAttribute("ellipsis-headsize",t)}},{key:"ellipsisTailsize",get:function(){return this.getAttribute("ellipsis-tailsize")},set:function(t){this.setAttribute("ellipsis-tailsize",t)}},{key:"ellipsisBlursize",get:function(){return this.getAttribute("ellipsis-blursize")},set:function(t){this.setAttribute("ellipsis-blursize",t)}},{key:"pagesFormatFn",get:function(){return _classPrivateFieldGet(this,r)},set:function(t){t&&"function"==typeof t&&(_classPrivateFieldSet(this,r,t),this.render())}},{key:"render",value:function(){var t=this||{},u=t.count,c=t.value,e=t.showFirstButton,i=t.showLastButton,n=t.hidePreviousButton,r=t.hideNextButton,s=t.nextSmartMode,o=t.previousSmartMode,l=t.ellipsisStyle,p=t.pagesFormatFn,f=t.ellipsisDiameter,h=t.ellipsisHeadsize,d=t.ellipsisTailsize,v=t.ellipsisBlursize;t=document.createElement("template");t.innerHTML="\n        <style>\n          :host { display: block; }\n          .page.active { background-color: #fff; }\n        </style>\n        <div>\n          ".concat(e?'<button data-page="first" data-of="shadow-pagination" part="first"><slot name="first">&larrb;</slot></button>':"","\n          ").concat(function(){if(n)return"";var t="";return a.includes(o)&&(t=o),'<button data-page="previous" data-of="shadow-pagination" part="previous" '.concat(1==+c?t:"",'>\n                  <slot name="previous">&#706;</slot>\n                </button>')}(),"\n          ").concat(function(){var e="",i=y.default;if(y.includes(l)&&(i=l),b(u)){var t=[];if("no-ellipsis"===i)for(var n=1;n<=u;n+=1)t.push(n);else var r=b(f)?f:5,s=b(h)?h:1,o=b(d)?d:1,a=b(v)?v:0,t=function(t,e,i){var n=void 0===(r=(s=2<arguments.length&&void 0!==i?i:{}).diameter)?5:r,i=s.headSize,r=void 0===i?1:i,i=s.tailSize,i=void 0===i?1:i,s=void 0===(s=s.blurSize)?0:s;function o(t){return t>>>0===parseFloat(t)}function a(t){return o(t)&&0<t}if(!a(e)||!o(t)||parseInt(t,10)>parseInt(e,10))return[];for(var u=parseInt(t,10),c=parseInt(e,10),l=a(n)&&n<=c&&1<n?+n:5,p=o(r)&&r<=c?+r:1,i=o(i)&&i<=c?+i:1,f=o(s)&&s<=c?+s:0,h=Math.floor(l/2),d=l%2==0,v=new Set,b=1;b<=p&&b<=c;b+=1)v.add(b);for(var y=Math.max(u-l,1);y<=u+l&&y<=c;y+=1)(u<=h&&y<=l||c-h<=u&&c-l<y||-h+d<=y-u&&y-u<=h)&&v.add(y);for(var g=c-i+1;g<=c&&1<=g;g+=1)v.add(g);var _=Array.from(v),m=[];if(_[0]&&1<_[0]&&_[0]-1<=f)for(var w=1;w<_[0];w+=1)m.push(w);else _[0]&&1<_[0]&&m.push("...");for(var P=0;P<_.length;P+=1){var S=_[P];m.push(S);var A=_[P+1];if(void 0===A)break;if(1<A-S&&A-S-1<=f)for(var k=S+1;k<A;k+=1)m.push(k);else 1<A-S&&m.push("...")}if(_[_.length-1]<c&&c-_[_.length-1]<=f)for(var F=_[_.length-1]+1;F<=c;F+=1)m.push(F);else _[_.length-1]<c&&m.push("...");return m}(c,u,{diameter:r,headSize:s,tailSize:o,blurSize:a});t.forEach(function(t){b(t)?e+='<button data-page="'.concat(t,'" class="page ').concat(+c==+t?"active":"",'" part="page ').concat(+c==+t?"active":"",'">\n                              ').concat(p&&"function"==typeof p?p(+t):+t,"\n                            </button>"):"..."===t&&(t="ellipsis"===i?"...":"",e+='<span part="ellipsis">'.concat(t,"</span>"))})}return e}(),"⁨⁨\n          ").concat(function(){if(r)return"";var t="";return a.includes(s)&&(t=s),'<button data-page="next" data-of="shadow-pagination" part="next" '.concat(+c==+u?t:"",'>\n                  <slot name="next">&#707;</slot>\n                </button>')}(),"\n          ").concat(i?'<button data-page="last" data-of="shadow-pagination" part="last"><slot name="last">&rarrb;</slot></button>':"","\n        </div>\n      "),this.shadowRoot.innerHTML="",this.shadowRoot.append(t.content.cloneNode(!0))}},{key:"attributeChangedCallback",value:function(t,e,i){"value"===t&&(this.value=i),e!==i&&this.render()}}],[{key:"observedAttributes",get:function(){return["count","value","show-first-button","show-last-button","hide-previous-button","hide-next-button","next-smart-mode","previous-smart-mode","ellipsis-style","ellipsis-diameter","ellipsis-headsize","ellipsis-tailsize","ellipsis-blursize"]}}]),e}();customElements.define("shadow-pagination",t)}();