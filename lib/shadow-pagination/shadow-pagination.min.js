"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var n="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(e,t)})(t)}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);i=new(Function.bind.apply(t,i));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classPrivateFieldInitSpec(t,e,n){_checkPrivateRedeclaration(t,e),e.set(t,n)}function _checkPrivateRedeclaration(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,e,n){return _classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,e,"set"),n),n}function _classApplyDescriptorSet(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function _classPrivateFieldGet(t,e){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,e,"get"))}function _classExtractFieldDescriptor(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function _classApplyDescriptorGet(t,e){return e.get?e.get.call(t):e.value}!function(){var n=2147483647,i=["hidden","disabled"],r=["hidden","ellipsis","no-ellipsis"];r.default="ellipsis";var s=!0,o=!1;function S(t){return t>>>0===parseFloat(t)}function E(t){return S(t)&&0<t}var a=new WeakMap,u=new WeakMap,t=function(){_inherits(e,_wrapNativeSuper(HTMLElement));var t=_createSuper(e);function e(){var n;return _classCallCheck(this,e),_classPrivateFieldInitSpec(_assertThisInitialized(n=t.call(this)),a,{writable:!0,value:1}),_classPrivateFieldInitSpec(_assertThisInitialized(n),u,{writable:!0,value:null}),n.attachShadow({mode:"open"}).addEventListener("click",function(t){t=t.composedPath().find(function(t){return"SLOT"===t.tagName})?t.composedPath().find(function(t){return"BUTTON"===t.tagName&&"shadow-pagination"===t.dataset.of}):t.target.closest("button");if(t&&!t.disabled){var e=t.dataset.page;switch(e){case"first":n.value=1,n.dispatchEvent(new Event("firstpage"));break;case"previous":--n.value,n.dispatchEvent(new Event("previouspage"));break;case"next":n.value+=1,n.dispatchEvent(new Event("nextpage"));break;case"last":n.value=n.count,n.dispatchEvent(new Event("lastpage"));break;default:n.value=e}}}),n}return _createClass(e,[{key:"setPrivateValue",value:function(t){t=parseInt(t,10);(t=!(S(t)&&t<=n)?1:t)>this.count?t=this.circular?1:this.count:t<1&&(t=this.circular?this.count:1),_classPrivateFieldGet(this,a)!==t&&(_classPrivateFieldSet(this,a,t),this.dispatchEvent(new Event("change")),this.render())}},{key:"value",get:function(){return parseInt(_classPrivateFieldGet(this,a),10)},set:function(t){s=!1,this.setPrivateValue(t)}},{key:"count",get:function(){var t=parseInt(this.getAttribute("count"),10);return t=!(S(t)&&1<=t&&t<=n)?1:t},set:function(t){t=parseInt(t,10);if(0===t)throw new RangeError("The count cannot be 0.");S(t)&&1<=t&&t<=n||(t=1),this.setAttribute("count","".concat(t)),t<this.value&&(this.value=1)}},{key:"circular",get:function(){return this.hasAttribute("circular")},set:function(t){t?this.setAttribute("circular",""):this.removeAttribute("circular")}},{key:"showFirstButton",get:function(){return this.hasAttribute("show-first-button")},set:function(t){t?this.setAttribute("show-first-button",""):this.removeAttribute("show-first-button")}},{key:"showLastButton",get:function(){return this.hasAttribute("show-last-button")},set:function(t){t?this.setAttribute("show-last-button",""):this.removeAttribute("show-last-button")}},{key:"hidePreviousButton",get:function(){return this.hasAttribute("hide-previous-button")},set:function(t){t?this.setAttribute("hide-previous-button",""):this.removeAttribute("hide-previous-button")}},{key:"hideNextButton",get:function(){return this.hasAttribute("hide-next-button")},set:function(t){t?this.setAttribute("hide-next-button",""):this.removeAttribute("hide-next-button")}},{key:"nextSmartMode",get:function(){var t=this.getAttribute("next-smart-mode");return i.includes(t)?t:""},set:function(t){null===t?this.removeAttribute("next-smart-mode"):this.setAttribute("next-smart-mode",t)}},{key:"previousSmartMode",get:function(){var t=this.getAttribute("previous-smart-mode");return i.includes(t)?t:""},set:function(t){null===t?this.removeAttribute("previous-smart-mode"):this.setAttribute("previous-smart-mode",t)}},{key:"ellipsisStyle",get:function(){var t=this.getAttribute("ellipsis-style");return r.includes(t)?t:r.default},set:function(t){this.setAttribute("ellipsis-style",t)}},{key:"ellipsisDiameter",get:function(){var t=parseInt(this.getAttribute("ellipsis-diameter"),10);return t=!(S(t)&&1<=t&&t<=n)?5:t},set:function(t){t=parseInt(t,10);if(0===t)throw new RangeError("The ellipsis-diameter cannot be 0");S(t)&&1<=t&&t<=n||(t=5),this.setAttribute("ellipsis-diameter","".concat(t))}},{key:"ellipsisHeadsize",get:function(){var t=parseInt(this.getAttribute("ellipsis-headsize"),10);return t=!(S(t)&&t<=n)?1:t},set:function(t){t=parseInt(t,10);S(t)&&t<=n||(t=1),this.setAttribute("ellipsis-headsize","".concat(t))}},{key:"ellipsisTailsize",get:function(){var t=parseInt(this.getAttribute("ellipsis-tailsize"),10);return t=!(S(t)&&t<=n)?1:t},set:function(t){t=parseInt(t,10);S(t)&&t<=n||(t=1),this.setAttribute("ellipsis-tailsize","".concat(t))}},{key:"ellipsisBlursize",get:function(){var t=parseInt(this.getAttribute("ellipsis-blursize"),10);return t=!(S(t)&&t<=n)?0:t},set:function(t){t=parseInt(t,10);S(t)&&t<=n||(t=0),this.setAttribute("ellipsis-blursize","".concat(t))}},{key:"pagesFormatFn",get:function(){return _classPrivateFieldGet(this,u)},set:function(t){_classPrivateFieldSet(this,u,t),this.render()}},{key:"render",value:function(){var t=this||{},i=t.count,r=t.value,e=t.showFirstButton,n=t.showLastButton,s=t.hidePreviousButton,o=t.hideNextButton,a=t.nextSmartMode,u=t.previousSmartMode,c=t.ellipsisStyle,l=t.pagesFormatFn,p=t.ellipsisDiameter,f=t.ellipsisHeadsize,h=t.ellipsisTailsize,d=t.ellipsisBlursize;t=document.createElement("template");t.innerHTML="\n        <style>\n          :host { display: block; }\n          .page.active { background-color: #fff; }\n        </style>\n        <div>\n          ".concat(e?'<button data-page="first" data-of="shadow-pagination" part="first"><slot name="first">&larrb;</slot></button>':"","\n          ").concat(s?"":'<button data-page="previous" data-of="shadow-pagination" part="previous" '.concat(1===r?u:"",'>\n                  <slot name="previous">&#706;</slot>\n                </button>'),"\n          ").concat(function(){var t=[];if("no-ellipsis"===c)for(var e=1;e<=i;e+=1)t.push(e);else t=function(t,e,n){var i=void 0===(r=(s=2<arguments.length&&void 0!==n?n:{}).diameter)?5:r,n=s.headSize,r=void 0===n?1:n,n=s.tailSize,n=void 0===n?1:n,s=void 0===(s=s.blurSize)?0:s;if(!E(e)||!S(t)||+e<+t)return[];for(var o=+t,a=+e,u=E(i)?Math.min(+i,a):5,c=S(r)?Math.min(+r,a):1,n=S(n)?Math.min(+n,a):1,l=S(s)?Math.min(+s,a):0,p=Math.floor(u/2),f=u%2==0,h=new Set,d=1;d<=c&&d<=a;d+=1)h.add(d);for(var v=Math.max(o-u,1);v<=o+u&&v<=a;v+=1)(o<=p&&v<=u||a-p<=o&&a-u<v||-p+f<=v-o&&v-o<=p)&&h.add(v);for(var b=a-n+1;b<=a&&1<=b;b+=1)h.add(b);var y=Array.from(h),g=[];if(y[0]&&1<y[0]&&y[0]-1<=l)for(var m=1;m<y[0];m+=1)g.push(m);else y[0]&&1<y[0]&&g.push("...");for(var _=0;_<y.length;_+=1){var w=y[_];g.push(w);var P=y[_+1];if(void 0===P)break;if(1<P-w&&P-w-1<=l)for(var A=w+1;A<P;A+=1)g.push(A);else 1<P-w&&g.push("...")}if(y[y.length-1]<a&&a-y[y.length-1]<=l)for(var k=y[y.length-1]+1;k<=a;k+=1)g.push(k);else y[y.length-1]<a&&g.push("...");return g}(r,i,{diameter:p,headSize:f,tailSize:h,blurSize:d});var n="";return t.forEach(function(t){var e=parseInt(t,10);"..."===t?n+='<span part="ellipsis">'.concat("ellipsis"===c?"...":"","</span>"):S(e)&&(n+='<button data-page="'.concat(e,'" class="page ').concat(r===e?"active":"",'" part="page ').concat(r===e?"active":"",'">\n                            ').concat("function"==typeof l?l(e):e,"\n                          </button>"))}),n}(),"\n          ").concat(o?"":'<button data-page="next" data-of="shadow-pagination" part="next" '.concat(r===i?a:"",'>\n                  <slot name="next">&#707;</slot>\n                </button>'),"\n          ").concat(n?'<button data-page="last" data-of="shadow-pagination" part="last"><slot name="last">&rarrb;</slot></button>':"","\n        </div>\n      "),this.shadowRoot.innerHTML="",this.shadowRoot.append(t.content.cloneNode(!0))}},{key:"attributeChangedCallback",value:function(t,e,n){"value"!==t?e!==n&&o&&this.render():s&&this.setPrivateValue(n)}},{key:"connectedCallback",value:function(){o=!0,this.render()}}],[{key:"observedAttributes",get:function(){return["count","value","show-first-button","show-last-button","hide-previous-button","hide-next-button","next-smart-mode","previous-smart-mode","ellipsis-style","ellipsis-diameter","ellipsis-headsize","ellipsis-tailsize","ellipsis-blursize"]}}]),e}();customElements.define("shadow-pagination",t)}();